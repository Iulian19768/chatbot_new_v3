<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Chatbot</title>
    <style>
        body {
            font-family: 'Brush Script MT', 'Lucida Handwriting', cursive;
        }

        .testbtn{
            position: fixed;
            bottom: 200px;
            right: 100px;
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>
    <h1>Welcome to My Website</h1>
    <button class="testbtn">TEST BUTTON </button>
    <!--<script src="https://chatbotnewv3-production.up.railway.app/static/embed_widget.js"></script>-->
    <!--<script src="https://chatbotnewv3-production.up.railway.app/static/chatbot-widget-test.js"></script>
    <script>
        window.initChatbot({
            url: "https://chatbotnewv3-production.up.railway.app/",
            width: "350px",
            height: "570px",
            color: "#516c96"  // This color will be applied to all the specified elements
        });
    </script>-->
    <script>
        window.initChatbot = function(options) {
            var iframe = document.createElement('iframe');
            
            // Add the color setting as a query parameter to the URL
            var url = new URL(options.url || "https://chatbotnewv3-production.up.railway.app/");
            if (options.color) {
                url.searchParams.set('color', options.color);
            }
    
            // Initial closed dimensions (small button size)
            let closedWidth = '50px';
            let closedHeight = '50px';
    
            // Open dimensions (full chatbox size)
            let openWidth = options.width || '350px';
            let openHeight = options.height || '570px';
    
            // Set initial dimensions for closed state
            iframe.style.width = closedWidth;
            iframe.style.height = closedHeight;
    
            iframe.src = url.toString();
            iframe.style.position = 'fixed';
            iframe.style.bottom = options.bottom || '20px';
            iframe.style.right = options.right || '20px';
            iframe.style.border = 'none';
            iframe.style.zIndex = '9999';
            iframe.id = "chatbot-iframe";
            iframe.style.transition = 'width 0.3s, height 0.3s'; // Smooth transition effect
    
            document.body.appendChild(iframe);
    
            let isOpen = false;
    
            // Function to toggle the iframe size
            function toggleChatboxSize() {
                if (isOpen) {
                    iframe.style.width = closedWidth;
                    iframe.style.height = closedHeight;
                } else {
                    iframe.style.width = openWidth;
                    iframe.style.height = openHeight;
                }
                isOpen = !isOpen;
            }
    
            // Add an event listener for clicks on the iframe to toggle its size
            iframe.addEventListener('click', function() {
                toggleChatboxSize();
            });
    
            // Optional: add a button or some other way to toggle the chatbox (outside the iframe)
            var toggleButton = document.createElement('button');
            toggleButton.innerText = "Toggle Chatbox";
            toggleButton.style.position = 'fixed';
            toggleButton.style.bottom = '80px';
            toggleButton.style.right = '20px';
            toggleButton.style.zIndex = '10000';
            document.body.appendChild(toggleButton);
    
            toggleButton.addEventListener('click', function() {
                toggleChatboxSize();
            });
        };
    
        // Initialize the chatbot with your specific options
        window.initChatbot({
            url: "https://chatbotnewv3-production.up.railway.app/",
            width: "350px",
            height: "570px",
            color: "#516c96"  // This color will be applied to all the specified elements
        });
    </script>
    <script>
        // Wait for the DOM content to fully load
        document.addEventListener('DOMContentLoaded', function() {
            // Select the button using its class
            const button = document.querySelector('.testbtn');

            // Add a click event listener to the button
            button.addEventListener('click', function() {
                // Log a message to the console
                console.log('Button was clicked!');
            });
        });
    </script>
    
    
</body>
</html>
